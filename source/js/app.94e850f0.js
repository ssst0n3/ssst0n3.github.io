(function(){"use strict";var t={1859:function(t,e,i){var n=i(8935),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view",{staticClass:"ml-3"})],1)},a=[],r={name:"App",components:{}},s=r,l=i(1001),d=(0,l.Z)(s,o,a,!1,null,null,null),c=d.exports,h=i(8262),u=i(3266),m=(i(44),i(1432));i(1278);const p="/api",f=`${p}/v1`,v="node",w="node_relation",b={v1:{node:`${f}/${v}`,node_relation:`${f}/${w}`}};var g={BaseUrl:"/",api:{v1:{node:{node:b.v1.node,list:t=>`${b.v1.node}/list/${t}`,matrix:t=>`${b.v1.node}/matrix/${t}`,item:t=>`${b.v1.node}/${t}`},node_relation:{node_relation:b.v1.node_relation,item:t=>`${b.v1.node_relation}/${t}`,update_node_relation_by_node:t=>`${b.v1.node_relation}/node/${t}`,hide_node:t=>`${b.v1.node_relation}/hide/${t}`}}},directions:{up:1,left:2,down:3,right:4}},x=i(8372),_=i.n(x),y=i(2809),k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("RootNodes")],1)},M=[],I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-btn",{on:{click:function(e){return t.$bvModal.show("modal-create-root-node")}}},[i("b-icon",{attrs:{icon:"plus"}})],1),t._l(t.nodes,(function(e){return i("div",{key:e.id},[i("router-link",{attrs:{to:"/node/"+e.ID}},[t._v(t._s(e.title))])],1)})),i("b-modal",{attrs:{id:"modal-create-root-node","hide-footer":"",size:"xl"}},[i("b-form-group",{attrs:{id:"fieldset-horizontal","label-cols-sm":"4","label-cols-lg":"3","content-cols-sm":"","content-cols-lg":"7",description:"display in summary mode",label:"Title","label-for":"input-horizontal"}},[i("b-form-input",{model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),i("p",[t._v("markdown")]),i("MarkdownEditor",{ref:"create_root_node_markdown_editor",attrs:{markdown:""}}),i("div",{staticClass:"float-right",attrs:{id:"panel"}},[i("b-btn",{on:{click:t.createRootNode}},[t._v("save")])],1)],1)],2)},N=[],$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"previewer"}},[i("b-form-textarea",{attrs:{debounce:"300"},model:{value:t.edit,callback:function(e){t.edit=e},expression:"edit"}}),i("MarkdownViewer",{attrs:{id:"preview",markdown:t.markdown}})],1)},C=[],S=i(7554),D=i(5952),E=i(5550),T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"view"},domProps:{innerHTML:t._s(t.compiledMarkdown)}})},R=[],L=i(3828);const O=new S.M2((0,D.G)({langPrefix:"hljs language-",highlight(t,e){const i=E.Z.getLanguage(e)?e:"plaintext";return E.Z.highlight(t,{language:i}).value}}));O.use((0,L.u)());var Z={name:"MarkdownViewer",props:{markdown:String},data(){return{edit:this.markdown}},computed:{compiledMarkdown(){return O.parse(this.edit)}}},j=Z,B=(0,l.Z)(j,T,R,!1,null,"436dc3e2",null),V=B.exports;const P=new S.M2((0,D.G)({langPrefix:"hljs language-",highlight(t,e){const i=E.Z.getLanguage(e)?e:"plaintext";return E.Z.highlight(t,{language:i}).value}}));var A={name:"MarkdownEditor",components:{MarkdownViewer:V},props:{markdown:String},data(){return{edit:this.markdown}},mounted(){},computed:{compiledMarkdown(){let t=P.parse(this.edit);return console.log(t),t}}},W=A,z=(0,l.Z)(W,$,C,!1,null,"132d09b0",null),U=z.exports,G={name:"RootNodes",components:{MarkdownEditor:U},data(){return{nodes:[],title:""}},created(){this.listNodesByRoot()},methods:{async listNodesByRoot(){this.nodes=await _().api.get(g.api.v1.node.list(0),null,{caller:this})},async createRootNode(){let t=await _().api.post(g.api.v1.node.node,null,{title:this.title,markdown:this.$refs.create_root_node_markdown_editor.edit},{caller:this}),e=t.id;await _().api.post(g.api.v1.node_relation.node_relation,null,{root:this.root,node:e},{caller:this}),await _().api.post(g.api.v1.node_relation.node_relation,null,{root:this.root,node:e},{caller:this}),this.$bvModal.hide("modal-create-root-node")}}},F=G,H=(0,l.Z)(F,I,N,!1,null,"002ed5f8",null),J=H.exports,X={name:"IndexView",components:{RootNodes:J}},q=X,K=(0,l.Z)(q,k,M,!1,null,"eae18310",null),Q=K.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("NodeMatrix",{attrs:{"static-view":"","data-source":"/"+t.source+"/"+t.dataSource}})],1)},tt=[],et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.staticView?t._e():i("DownloadData",{attrs:{"node-matrix":t.nodeMatrix,toc:t.toc}}),i("TableOfContent",{attrs:{toc:t.toc}}),i("b-toast",{attrs:{id:"my-toast",variant:"warning",solid:"","no-auto-hide":"",visible:t.loading},scopedSlots:t._u([{key:"toast-title",fn:function(){return[i("div",{staticClass:"d-flex flex-grow-1 align-items-baseline"},[i("b-img",{staticClass:"mr-2",attrs:{blank:"","blank-color":"#ff5555",width:"12",height:"12"}}),i("strong",{staticClass:"mr-auto"},[t._v("Loading")]),i("small",{staticClass:"text-muted mr-2"},[t._v("42 seconds ago")])],1)]},proxy:!0}])},[i("b-spinner")],1),t._l(t.nodeMatrix,(function(e,n){return i("div",{key:"col-"+n,staticClass:"mt-5",staticStyle:{"white-space":"nowrap"}},t._l(e,(function(e,o){return i("div",{key:"col-"+n+"-row-"+o,ref:"node-"+e.ID,refInFor:!0,staticClass:"ml-5",class:{hidden:0===e.ID},staticStyle:{display:"inline-block",width:"500px","vertical-align":"middle"},attrs:{id:"node-"+e.ID},on:{mouseover:t.mouseover,click:function(i){return t.focusNode(e.ID)}}},[-1!==e.ID?i("div",{on:{dblclick:function(i){return t.edit(e)}}},[e.markdown.length>0?i("MarkdownCard",{staticStyle:{"white-space":"normal"},attrs:{id:"card-"+e.ID,markdown:e.markdown.toString(),nodeId:e.ID.toString(),"next-id":e.next,"child-id":e.child,"last-id":e.last,"parent-id":e.parent,"has-parent":void 0!==e.parent,"static-view":t.staticView,active:t.focus===e.ID},on:{navi:t.navi,add:t.add,remove:t.remove}}):i("AnalysisItem")],1):t._e()])})),0)})),t.staticView?t._e():i("b-modal",{attrs:{id:"node-common","hide-footer":"",size:"xl"}},[i("MarkdownEditor",{ref:"markdown_editor_common",attrs:{markdown:t.markdown}}),i("div",{staticClass:"float-right",attrs:{id:"panel"}},[i("b-btn",{on:{click:t.save}},[t._v("save")])],1)],1)],2)},it=[];function nt(t){let e=[],i={h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},n=null;function o(t){if(1===t.nodeType&&"script"!==t.nodeName)if(Object.prototype.hasOwnProperty.call(i,t.nodeName.toLowerCase()))null===t.getAttribute("class")&&(null===n&&"h1"===t.nodeName.toLowerCase()?n=t:e.push(t));else for(let e=0;e<t.childNodes.length;e++)o(t.childNodes[e])}return o(t),{title:n,headings:e}}function ot(t){let e=O.parse(t),i=document.createElement("div");return i.innerHTML=e,nt(i)}class at{constructor(t,e,i){this.x=1,this.y=1,this.toc={headings:[],title:null},this.matrix=[[t]],this.nodes=e,this.nodeRelations=i,this.nextRecursive(t)}nextRecursive(t){if(0===t)return;let e=this.nodeRelations[t];if(0===e.next){for(let t=this.matrix[this.x-1].length;t<this.y;t++)this.matrix[this.x-1].push(0);return}this.matrix[this.matrix.length-1].push(e.next);let i=this.matrix[this.matrix.length-1].length;if(i>this.y){for(let t=0;t<this.x-1;t++)this.matrix[t].push(0);this.y=i}this.nextRecursive(e.next)}childRecursive(t){for(let e=this.y-1;e>=0;e--){let i=this.matrix[t][e];if(0===i)continue;let n=this.nodeRelations[i];if(0===n.child)continue;let o=new Array(e).fill(0);o.push(n.child),this.matrix.push(o),this.x+=1,this.nextRecursive(n.child),this.childRecursive(this.x-1)}}shift(){for(let t=2;t<=this.x-1;t++){let e=-1,i=-1;for(let n=0;n<=this.y-1;n++)this.matrix[t][n]>0&&(-1!==e?i=n:(e=n,i=e)),0!==this.matrix[t][n]&&n!==this.y-1||(-1!==e&&this.shiftLine(t,e,i),e=-1,i=-1)}}shiftLine(t,e,i){let n=0;for(let o=e;o<=i;o++){let e=t;while(e>0)if(e--,0!==this.matrix[e][o]){e+=1;break}if(e===t)return;(0===n||n>t-e)&&(n=t-e)}if(n>0)for(let o=e;o<=i;o++)this.matrix[t-n][o]=this.matrix[t][o],this.matrix[t][o]=0}cleanSuffix(){for(let t=0;t<=this.y-1;t++)for(let e=this.x-1;e>=0;e--){if(this.matrix[e][t]>0)break;this.matrix[e][t]=-1}}print(){for(let t=0;t<=this.y-1;t++){for(let e=0;e<=this.x-1;e++)process.stdout.write(this.matrix[e][t].toString());process.stdout.write("\n")}}dumpNode(){let t=[[]];for(let e=0;e<=this.y-1;e++){let i=[];for(let t=0;t<=this.x-1;t++){let n=this.matrix[t][e],o=this.nodes[n];if(n>0){let t=this.nodeRelations[n];if(o.child=t.child,o.next=t.next,o.child>0){let t=this.nodes[o.child];t.parent=n}if(o.next>0){let t=this.nodes[o.next];t.last=n}}else o={ID:n,markdown:""};i.push(o)}t.push(i)}return t}generateToc(t){if(0===t)return;let e=this.nodes[t],i=ot(e.markdown);null!==i.title&&(this.toc.title={nodeName:i.title.nodeName,innerText:i.title.innerText,id:i.title.id}),i.headings.forEach((t=>{let e={nodeName:t.nodeName,innerText:t.innerText,id:t.id};this.toc.headings.push(e)}));let n=this.nodeRelations[t];n.child>0&&this.generateToc(n.child),n.next>0&&this.generateToc(n.next)}caller(t){let e=this.nodes[t];if(t>0)return e.parent>0?e.parent:e.last>0?this.caller(e.last):void 0}}var rt={Matrix:at},st=i(3191),lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-card",{attrs:{"border-variant":t.active?"info":"","header-bg-variant":"light"},scopedSlots:t._u([{key:"header",fn:function(){return[i("div",{staticClass:"text-right"},[i("b-badge",{attrs:{comment:"just a place holder",pill:"",variant:"light"}},[i("b-link",{staticClass:"text-white"},[i("b-icon-arrow-up")],1)],1),t.active?i("span",[!t.staticView||t.hasNext?i("b-badge",{attrs:{pill:"",variant:t.hasNext?"secondary":"info"},on:{click:function(e){return e.stopPropagation(),t.navi(t.directions.down)}}},[i("b-link",{staticClass:"text-white"},[i("b-icon-arrow-down")],1)],1):t._e(),i("b-badge",{attrs:{pill:"",variant:t.hasChild?"secondary":"info"},on:{click:function(e){return e.stopPropagation(),t.navi(t.directions.right)}}},[i("b-link",{staticClass:"text-white"},[i("b-icon-arrow-right")],1)],1),t.hasLast?i("b-badge",{attrs:{pill:"",variant:"secondary"},on:{click:function(e){return e.stopPropagation(),t.navi(t.directions.up)}}},[i("b-link",{staticClass:"text-white"},[i("b-icon-arrow-up")],1)],1):t._e(),i("b-badge",{attrs:{pill:"",variant:"secondary"},on:{click:function(e){return e.stopPropagation(),t.navi(t.directions.left)}}},[i("b-link",{staticClass:"text-white"},[i("b-icon-arrow-left")],1)],1),i("b-badge",{staticClass:"ml-1",attrs:{pill:"",variant:t.active?"info":"light"},on:{click:function(e){return e.stopPropagation(),t.add(t.directions.up)}}},[i("b-link",{staticClass:"text-white"},[i("b-icon-arrow-bar-up")],1)],1),i("b-badge",{attrs:{pill:"",variant:t.active?"info":"light"},on:{click:function(e){return e.stopPropagation(),t.add(t.directions.left)}}},[i("b-link",{staticClass:"text-white"},[i("b-icon-arrow-bar-left")],1)],1),i("b-badge",{attrs:{pill:"",variant:t.active?"info":"light"},on:{click:function(e){return e.stopPropagation(),t.remove.apply(null,arguments)}}},[i("b-link",{staticClass:"text-white"},[i("b-icon-x")],1)],1)],1):t._e()],1)]},proxy:!0}])},[i("MarkdownViewer",{staticStyle:{width:"100%"},attrs:{markdown:t.markdown}})],1)],1)},dt=[],ct={name:"MarkdownCard",components:{MarkdownViewer:V},props:{nodeId:String,markdown:String,nextId:Number,childId:Number,lastId:Number,parentId:Number,hasParent:Boolean,staticView:Boolean,active:Boolean},data(){let t={};return t[g.directions.up]=this.lastId,t[g.directions.down]=this.nextId,t[g.directions.left]=this.parentId,t[g.directions.right]=this.childId,{hasNext:0!==this.nextId,hasChild:0!==this.childId,hasLast:void 0!==this.lastId,directions:g.directions,directions2Id:t}},methods:{exists(t){return void 0!==t&&0!==t},add(t){this.$emit("add",this.nodeId,t)},navi(t){let e=this.directions2Id[t];this.exists(e)||t===g.directions.left?this.$emit("navi",this.nodeId,e,t):this.add(t)},remove(){this.$emit("remove",this.nodeId)}}},ht=ct,ut=(0,l.Z)(ht,lt,dt,!1,null,"6444f0dc",null),mt=ut.exports,pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-card",{staticClass:"mb-2",attrs:{tag:"article"}},[i("b-card-title",[t._v(" WithMounts() ")]),i("b-card-sub-title",[i("b-link",{staticClass:"card-link",attrs:{href:"#"}},[i("b-icon-github")],1)],1),i("b-card-body",[i("b-card-text",[t._v(" "+t._s(t.note)+" ")]),i("pre",[t._v(" "+t._s(t.code)+" ")])],1)],1)],1)},ft=[],vt={name:"AnalysisItem",props:{note:String,link:String,code:String},data(){return{}}},wt=vt,bt=(0,l.Z)(wt,pt,ft,!1,null,"6df6b935",null),gt=bt.exports,xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("SideBar",{attrs:{toc:t.toc}})],1)},_t=[],yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-toc",modifiers:{"sidebar-toc":!0}}],staticClass:"toc-btn"},[i("b-icon",{attrs:{icon:"justify"}})],1),i("b-sidebar",{attrs:{id:"sidebar-toc",title:"Toc",right:"",visible:"",shadow:""}},[i("div",{staticClass:"px-3 py-2"},[null!==t.toc.title?i("a",{attrs:{href:"#"+t.toc.title.id},on:{click:function(e){return e.preventDefault(),t.anchor(t.toc.title.id)}}},[i("strong",[t._v(t._s(t.toc.title.innerText))])]):t._e(),i("hr"),i("ul",t._l(t.toc.headings,(function(e,n){return i("li",{key:"header-"+n,class:"toc-"+e.nodeName.toLowerCase()},[i("a",{attrs:{href:"#"+e.id},on:{click:function(i){return i.preventDefault(),t.anchor(e.id)}}},[t._v(t._s(e.innerText))])])})),0)])])],1)},kt=[];function Mt(t){let e=document.getElementById(t);e&&e.scrollIntoView()}var It={name:"SideBar",props:{toc:Object},methods:{anchor:Mt}},Nt=It,$t=(0,l.Z)(Nt,yt,kt,!1,null,"de7e909e",null),Ct=$t.exports,St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("label",{staticClass:"collapse btn btn-secondary toc-btn",attrs:{for:"_1"}},[i("b-icon",{attrs:{icon:"justify"}})],1),i("input",{attrs:{id:"_1",type:"radio",name:"c1"}}),i("b-sidebar",{attrs:{id:"sidebar-toc",title:"Toc",right:"",shadow:"",visible:""},scopedSlots:t._u([{key:"header",fn:function(){return[i("label",{staticClass:"collapse",attrs:{for:"_2"}},[i("b-icon",{attrs:{icon:"x",variant:"secondary"}})],1),i("input",{attrs:{id:"_2",type:"radio",name:"c1"}})]},proxy:!0}])},[i("div",{staticClass:"px-3 py-2"},[i("ul",t._l(t.toc,(function(e,n){return i("li",{key:"header-"+n,class:"toc-"+e.nodeName.toLowerCase()},[i("a",{attrs:{href:"#"+e.id}},[t._v(t._s(e.innerText))])])})),0)])])],1)},Dt=[],Et={name:"SideBarStatic",props:{toc:Array}},Tt=Et,Rt=(0,l.Z)(Tt,St,Dt,!1,null,"07a09ed6",null),Lt=Rt.exports,Ot={name:"TableOfContent",components:{SideBarStatic:Lt,SideBar:Ct},props:{toc:Object},data(){return{headings:[{nodeName:"h1",innerText:"heading"}]}},mounted(){},methods:{}},Zt=Ot,jt=(0,l.Z)(Zt,xt,_t,!1,null,"404cb7d5",null),Bt=jt.exports,Vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-button",{staticClass:"download-btn",on:{click:t.downloadDataSource}},[i("b-icon",{attrs:{icon:"download"}})],1)},Pt=[],At={name:"DownloadData",props:{nodeMatrix:Array,toc:Object},data(){return{}},methods:{downloadDataSource(){let t={matrix:this.nodeMatrix,toc:this.toc},e=JSON.stringify(t);const i=window.URL.createObjectURL(new Blob([e]));let n=document.createElement("a");n.href=i,n.setAttribute("download","data-source.json"),document.body.appendChild(n),n.click()}}},Wt=At,zt=(0,l.Z)(Wt,Vt,Pt,!1,null,"5d3b61f4",null),Ut=zt.exports;async function Gt(t,e,i,n,o){n=void 0===n?0:n,o=void 0===o?0:o,await _().api.post(g.api.v1.node_relation.node_relation,null,{root:e,node:i,next:n,child:o},{caller:t})}async function Ft(t,e,i){await _().api.put(g.api.v1.node_relation.update_node_relation_by_node(e),null,i,{caller:t})}async function Ht(t,e,i,n,o){let a=o[i],r=a.parent,s=a.last;void 0!==r&&await Ft(t,r,{child:n}),void 0!==s&&await Ft(t,s,{next:n})}async function Jt(t,e,i,n,o,a){switch(e){case g.directions.right:await Gt(t,i,o),await Ft(t,n,{child:o});break;case g.directions.down:await Gt(t,i,o),await Ft(t,n,{next:o});break;case g.directions.up:await Gt(t,i,o,n),await Ht(t,i,n,o,a);break;case g.directions.left:await Gt(t,i,o,0,n),await Ht(t,i,n,o,a);break}}async function Xt(t,e,i){await _().api.put(g.api.v1.node.item(e),null,{markdown:i},{caller:t,success_msg:"update successfully"})}async function qt(t,e){let i=await _().api.post(g.api.v1.node.node,null,{markdown:e},{caller:t});return i.id}var Kt={name:"NodeMatrix",components:{DownloadData:Ut,TableOfContent:Bt,AnalysisItem:gt,MarkdownCard:mt,MarkdownEditor:U},props:{root:Number,staticView:Boolean,dataSource:String},data(){return{nodesMap:{},nodeRelationsMap:{},matrix:{},nodeMatrix:[],mode:0,mode_edit:!1,baseNode:0,markdown:"",plumbInstance:null,nodeLoading:!1,nodeRelationsLoading:!1,toc:{headings:[],title:null},time_start:0,focus:0}},computed:{loading(){return this.nodeLoading||this.nodeRelationsLoading}},async created(){this.time_start=(new Date).getTime(),await this.refreshData()},mounted(){this.plumbInstance=st.jsPlumb.getInstance(),this.plumbInstance.bind("click",(function(t){window.scrollTo(t.target.offsetLeft-100,t.target.offsetTop-100)}))},destroyed(){this.plumbInstance.deleteEveryConnection(),this.plumbInstance.deleteEveryEndpoint()},watch:{nodeMatrix:async function(){this.$nextTick((()=>{this.drawLine()}))}},methods:{focusNode(t){this.focus=t},async hideNode(t){await _().api["delete"](g.api.v1.node_relation.hide_node(t),null,{caller:this,success_msg:"delete node successfully"}),await this.refreshData()},anchor:Mt,async refreshData(){if(this.staticView){let t=await _().api.get(this.dataSource,null,{caller:this,success_msg:"list node matrix successfully"});return this.nodeMatrix=t["matrix"],void(this.toc=t["toc"])}console.log("time before data pulled is",(new Date).getTime()-this.time_start+"ms"),await this.listNodes(this.root),await this.listNodeRelationsByRoot(this.root),console.log("time after data pulled is",(new Date).getTime()-this.time_start+"ms"),this.matrix=new rt.Matrix(this.root,this.nodesMap,this.nodeRelationsMap),this.matrix.childRecursive(0),this.matrix.shift(),this.matrix.cleanSuffix(),this.nodeMatrix=this.matrix.dumpNode(),this.matrix.generateToc(this.root),this.toc=this.matrix.toc},async refreshWorld(){this.plumbInstance.deleteEveryConnection(),this.plumbInstance.deleteEveryEndpoint(),await this.refreshData()},edit(t){this.markdown=t.markdown,this.$bvModal.show("node-common"),this.baseNode=t.ID,this.mode_edit=!0},resetMarkdownEditor(){this.mode=0,this.markdown="",this.mode_edit=!1,this.$bvModal.hide("node-common")},async save(){let t=this.$refs.markdown_editor_common.edit;if(this.mode_edit)await Xt(this,this.baseNode,t);else{let e=await qt(this,t);await Jt(this,this.mode,this.root,this.baseNode,e,this.nodesMap)}this.resetMarkdownEditor(),await this.refreshWorld()},navi(t,e,i){i===g.directions.left&&(e=this.matrix.caller(t)),Mt("card-"+e),this.focus=e},add(t,e){this.baseNode=parseInt(t),this.mode=e,this.$bvModal.show("node-common")},remove(t){confirm(`are you sure to delete #${t}? all of it's children will be deleted`)&&this.hideNode(t)},mouseover(){},drawLine(){let t=this;t.plumbInstance.ready((function(){for(let e=0;e<t.nodeMatrix.length;e++)for(let i=0;i<t.nodeMatrix[e].length;i++){let n=t.nodeMatrix[e][i];n.ID<=0||(0!==n.child&&t.plumbInstance.connect({source:"node-"+n.ID,target:"node-"+n.child,anchor:["Right","Left"],endpoint:"Blank",connector:["Straight"],overlays:[["Arrow",{width:16,length:16,location:1}]],paintStyle:{stroke:"#909393",strokeWidth:2}}),0!==n.next&&t.plumbInstance.connect({source:"node-"+n.ID,target:"node-"+n.next,anchor:["Bottom","Top"],endpoint:"Blank",connector:["Straight"],overlays:[["Arrow",{width:16,length:16,location:1}]],paintStyle:{stroke:"#909393",strokeWidth:2}}))}})),console.log("time after line drawn cost is",(new Date).getTime()-this.time_start+"ms")},async listNodes(t){this.nodeLoading=!0;let e=await _().api.get(g.api.v1.node.list(t),null,{caller:this,success_msg:"list node successfully"});e.forEach((t=>{this.nodesMap[t.ID]=t})),this.nodeLoading=!1},async listNodeRelationsByRoot(t){this.nodeRelationsLoading=!0;let e=await _().api.get(g.api.v1.node_relation.item(t),null,{caller:this,success_msg:"list node_relation successfully"});e.forEach((t=>{this.nodeRelationsMap[t.node]=t})),this.nodeRelationsLoading=!1}}},Qt=Kt,Yt=(0,l.Z)(Qt,et,it,!1,null,"15464014",null),te=Yt.exports,ee={name:"StaticView",components:{NodeMatrix:te},data(){return{dataSource:this.$route.params.data_source,source:this.$route.params.source}},created(){_().api.initClient("/")}},ie=ee,ne=(0,l.Z)(ie,Y,tt,!1,null,"912daf0c",null),oe=ne.exports,ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("NodeMatrix",{attrs:{root:t.root}})],1)},re=[],se={name:"DynamicView",components:{NodeMatrix:te},data(){return{root:parseInt(this.$route.params.id)}}},le=se,de=(0,l.Z)(le,ae,re,!1,null,"54656367",null),ce=de.exports;n["default"].use(y.Z);var he=new y.Z({routes:[{path:"/",name:"IndexView",component:Q},{path:"/node/:id",name:"NodeMatrix",component:ce},{path:"/static/:source/:data_source",name:"StaticView",component:oe}]});n["default"].use(h.XG7),n["default"].use(u.A7),n["default"].use(m.Z),_().api.initClient(g.BaseUrl),n["default"].config.productionTip=!1,new n["default"]({router:he,render:t=>t(c)}).$mount("#app")}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,i),a.exports}i.m=t,function(){var t=[];i.O=function(e,n,o,a){if(!n){var r=1/0;for(c=0;c<t.length;c++){n=t[c][0],o=t[c][1],a=t[c][2];for(var s=!0,l=0;l<n.length;l++)(!1&a||r>=a)&&Object.keys(i.O).every((function(t){return i.O[t](n[l])}))?n.splice(l--,1):(s=!1,a<r&&(r=a));if(s){t.splice(c--,1);var d=o();void 0!==d&&(e=d)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[n,o,a]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,a,r=n[0],s=n[1],l=n[2],d=0;if(r.some((function(e){return 0!==t[e]}))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(l)var c=l(i)}for(e&&e(n);d<r.length;d++)a=r[d],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(c)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(1859)}));n=i.O(n)})();
//# sourceMappingURL=app.94e850f0.js.map